import React from 'react';
import { TouchableOpacity } from 'react-native';
import Svg, { Path, G } from 'react-native-svg';

type IconName =
  | 'back'
  | 'close'
  | 'search'
  | 'calendar'
  | 'chevron-forward'
  | 'settings'
  | 'plus'
  | 'minus';

interface IconProps {
  name: IconName;
  size?: number;
  color?: string;
  strokeWidth?: number;
  className?: string;
  onPress?: () => void;
  disabled?: boolean;
}

const ICONS: Record<IconName, React.ReactNode> = {
  back: (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M29.4333 18H7.50037" />
      <Path d="M13.5666 25L6.5667 18L13.5666 11" />
    </G>
  ),
  close: (
    <G fill="none">
      <Path d="M9 9C9 9 19.9706 19.9706 27 27" strokeLinecap="round" />
      <Path d="M9 27C9 27 19.9706 16.0294 27 9" strokeLinecap="round" />
    </G>
  ),
  search: (
    <G fill="none">
      <Path d="M16.04 6.75C21.7229 6.75009 26.3301 11.3571 26.3301 17.04C26.3301 22.723 21.7229 27.33 16.04 27.3301C10.3571 27.3301 5.75002 22.723 5.75 17.04C5.75 11.357 10.3571 6.75 16.04 6.75Z" />
      <Path d="M31.0948 29.078L23.5676 23.0562" />
    </G>
  ),
  calendar: (
    <G fill="#232323">
      <Path d="M27.657 7.431H24.75C24.75 6.912 24.75 6.3945 24.75 5.877C24.75 5.691 24.75 5.505 24.75 5.319C24.75 4.926 24.405 4.551 24 4.569C23.5935 4.587 23.25 4.899 23.25 5.319C23.25 6.0225 23.25 6.7275 23.25 7.431H12.75C12.75 6.912 12.75 6.3945 12.75 5.877C12.75 5.691 12.75 5.505 12.75 5.319C12.75 4.926 12.405 4.551 12 4.569C11.5935 4.587 11.25 4.899 11.25 5.319C11.25 6.0225 11.25 6.7275 11.25 7.431H8.34302C6.27602 7.431 4.59302 9.114 4.59302 11.181V27.681C4.59302 29.7495 6.27602 31.431 8.34302 31.431H27.6555C29.724 31.431 31.4055 29.7495 31.4055 27.681V11.181C31.407 9.114 29.724 7.431 27.657 7.431ZM8.34302 8.931H11.25C11.25 9.0405 11.25 9.1515 11.25 9.261C11.25 9.447 11.25 9.633 11.25 9.819C11.25 10.212 11.595 10.587 12 10.569C12.4065 10.551 12.75 10.239 12.75 9.819C12.75 9.5235 12.75 9.228 12.75 8.931H23.25C23.25 9.0405 23.25 9.1515 23.25 9.261C23.25 9.447 23.25 9.633 23.25 9.819C23.25 10.212 23.595 10.587 24 10.569C24.4065 10.551 24.75 10.239 24.75 9.819C24.75 9.5235 24.75 9.228 24.75 8.931H27.6555C28.896 8.931 29.9055 9.9405 29.9055 11.181V13.557H6.09302V11.181C6.09302 9.9405 7.10252 8.931 8.34302 8.931ZM27.657 29.931H8.34302C7.10252 29.931 6.09302 28.9215 6.09302 27.681V15.057H29.9055V27.681C29.907 28.9215 28.8975 29.931 27.657 29.931Z" />
    </G>
  ),
  'chevron-forward': (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M15 12L21 18L15 24" />
    </G>
  ),
  settings: (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M18.0683 13.5687C17.145 13.4775 16.2161 13.6739 15.4087 14.131C14.6014 14.5882 13.9551 15.2837 13.5583 16.1223C13.1615 16.961 13.0336 17.9018 13.1922 18.8159C13.3507 19.73 13.788 20.5728 14.444 21.2289C15.1 21.8849 15.9428 22.3221 16.857 22.4807C17.7711 22.6392 18.7119 22.5114 19.5505 22.1146C20.3892 21.7178 21.0847 21.0715 21.5418 20.2641C21.999 19.4568 22.1954 18.5279 22.1042 17.6046C22.0002 16.5696 21.5416 15.6023 20.8061 14.8668C20.0705 14.1312 19.1033 13.6726 18.0683 13.5687ZM28.9034 18.0469C28.9005 18.536 28.8646 19.0244 28.7958 19.5087L31.9747 22.002C32.1131 22.1167 32.2064 22.2768 32.2379 22.4538C32.2694 22.6308 32.2372 22.8133 32.1469 22.9688L29.1397 28.1719C29.0483 28.3259 28.9056 28.4427 28.7366 28.5017C28.5675 28.5608 28.3831 28.5582 28.2158 28.4946L25.0587 27.2234C24.8846 27.154 24.6961 27.129 24.5099 27.1505C24.3238 27.1719 24.1458 27.2393 23.9921 27.3464C23.5103 27.6782 23.004 27.9729 22.4776 28.2281C22.3121 28.3086 22.1689 28.4285 22.0608 28.5774C21.9526 28.7263 21.8828 28.8995 21.8574 29.0817L21.3842 32.449C21.3531 32.6268 21.2612 32.7883 21.1243 32.9059C20.9873 33.0235 20.8138 33.0899 20.6333 33.0938H14.6187C14.4412 33.0907 14.2701 33.0272 14.1334 32.9139C13.9968 32.8005 13.9029 32.644 13.8671 32.4701L13.3946 29.1077C13.3681 28.9235 13.2964 28.7486 13.186 28.5987C13.0756 28.4488 12.9299 28.3285 12.7618 28.2485C12.236 27.9947 11.7314 27.6992 11.2529 27.3647C11.0997 27.2581 10.9223 27.1913 10.7369 27.1703C10.5514 27.1493 10.3636 27.1748 10.1905 27.2445L7.03412 28.515C6.86686 28.5787 6.68248 28.5813 6.51347 28.5224C6.34445 28.4635 6.20165 28.3468 6.11022 28.193L3.10295 22.9898C3.01254 22.8344 2.98023 22.6519 3.01178 22.4749C3.04332 22.2978 3.13668 22.1377 3.27522 22.023L5.96186 19.9137C6.10905 19.7968 6.22473 19.6451 6.2984 19.4722C6.37207 19.2993 6.40141 19.1108 6.38373 18.9237C6.35842 18.6305 6.34295 18.338 6.34295 18.0448C6.34295 17.7516 6.35772 17.4633 6.38373 17.1764C6.39947 16.9904 6.3687 16.8035 6.2942 16.6324C6.21969 16.4613 6.10379 16.3114 5.95694 16.1962L3.2717 14.0869C3.13541 13.9716 3.04402 13.8121 3.01355 13.6362C2.98309 13.4604 3.01548 13.2794 3.10506 13.125L6.11233 7.92188C6.20365 7.76788 6.34641 7.65107 6.51543 7.59203C6.68445 7.53299 6.86889 7.53551 7.03623 7.59914L10.1933 8.87039C10.3674 8.93971 10.5559 8.96475 10.7421 8.94328C10.9282 8.9218 11.1062 8.85448 11.2599 8.74734C11.7417 8.41555 12.248 8.1208 12.7744 7.86562C12.9399 7.78519 13.0831 7.66524 13.1912 7.51637C13.2994 7.3675 13.3692 7.19429 13.3946 7.01203L13.8678 3.64477C13.8989 3.46693 13.9908 3.30541 14.1277 3.18781C14.2647 3.07021 14.4382 3.00382 14.6187 3H20.6333C20.8108 3.00307 20.9819 3.06652 21.1186 3.17988C21.2552 3.29325 21.3491 3.44978 21.3849 3.62367L21.8574 6.98602C21.8839 7.17028 21.9556 7.34514 22.066 7.49503C22.1764 7.64493 22.3221 7.76523 22.4902 7.84523C23.016 8.09903 23.5206 8.39459 23.9991 8.72906C24.1523 8.83567 24.3297 8.90247 24.5151 8.92346C24.7006 8.94445 24.8884 8.91896 25.0615 8.8493L28.2179 7.57875C28.3851 7.51505 28.5695 7.51243 28.7385 7.57134C28.9075 7.63025 29.0503 7.74691 29.1418 7.90078L32.149 13.1039C32.2395 13.2594 32.2718 13.4419 32.2402 13.6189C32.2087 13.7959 32.1153 13.956 31.9768 14.0707L29.2901 16.1801C29.1423 16.2965 29.026 16.4481 28.9517 16.621C28.8774 16.7939 28.8475 16.9827 28.8647 17.1701C28.888 17.4612 28.9034 17.7537 28.9034 18.0469Z" />
    </G>
  ),
  plus: (
    <G strokeLinecap="round" fill="none">
      <Path d="M8.10034 18C8.10034 18 20.1674 18 27.8994 18" />
      <Path d="M18.0002 27.8995C18.0002 27.8995 18.0002 15.8325 18.0002 8.1005" />
    </G>
  ),
  minus: (
    <G strokeLinecap="round" fill="none">
      <Path d="M8.10034 18C8.10034 18 20.1674 18 27.8994 18" />
    </G>
  ),
};

export function Icon({
  name,
  size = 36,
  color = '#232323',
  strokeWidth = 1.5,
  className,
  onPress,
  disabled = false,
}: IconProps) {
  const iconElement = (
    <Svg width={size} height={size} viewBox="0 0 36 36" className={className}>
      <G stroke={color} strokeWidth={strokeWidth}>
        {ICONS[name]}
      </G>
    </Svg>
  );

  if (onPress) {
    return (
      <TouchableOpacity
        onPress={onPress}
        disabled={disabled}
        className={[
          disabled ? 'opacity-50' : 'pressed:opacity-70',
          'items-center justify-center',
        ]
          .filter(Boolean)
          .join(' ')}
      >
        {iconElement}
      </TouchableOpacity>
    );
  }

  return iconElement;
}
