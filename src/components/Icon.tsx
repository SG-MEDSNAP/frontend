import React from 'react';
import { TouchableOpacity } from 'react-native';
import Svg, { Path, G } from 'react-native-svg';

type IconName =
  | 'back'
  | 'close'
  | 'search'
  | 'calendar'
  | 'chevron-forward'
  | 'settings'
  | 'plus'
  | 'minus'
  | 'kakao'
  | 'naver'
  | 'google'
  | 'up'
  | 'down'
  | 'check';

interface IconProps {
  name: IconName;
  size?: number;
  color?: string;
  strokeWidth?: number;
  className?: string;
  onPress?: () => void;
  disabled?: boolean;
}

const ICONS: Record<IconName, React.ReactNode> = {
  back: (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M29.4333 18H7.50037" />
      <Path d="M13.5666 25L6.5667 18L13.5666 11" />
    </G>
  ),
  close: (
    <G fill="none">
      <Path d="M9 9C9 9 19.9706 19.9706 27 27" strokeLinecap="round" />
      <Path d="M9 27C9 27 19.9706 16.0294 27 9" strokeLinecap="round" />
    </G>
  ),
  search: (
    <G fill="none">
      <Path d="M16.04 6.75C21.7229 6.75009 26.3301 11.3571 26.3301 17.04C26.3301 22.723 21.7229 27.33 16.04 27.3301C10.3571 27.3301 5.75002 22.723 5.75 17.04C5.75 11.357 10.3571 6.75 16.04 6.75Z" />
      <Path d="M31.0948 29.078L23.5676 23.0562" />
    </G>
  ),
  calendar: (
    <G fill="#232323">
      <Path d="M27.657 7.431H24.75C24.75 6.912 24.75 6.3945 24.75 5.877C24.75 5.691 24.75 5.505 24.75 5.319C24.75 4.926 24.405 4.551 24 4.569C23.5935 4.587 23.25 4.899 23.25 5.319C23.25 6.0225 23.25 6.7275 23.25 7.431H12.75C12.75 6.912 12.75 6.3945 12.75 5.877C12.75 5.691 12.75 5.505 12.75 5.319C12.75 4.926 12.405 4.551 12 4.569C11.5935 4.587 11.25 4.899 11.25 5.319C11.25 6.0225 11.25 6.7275 11.25 7.431H8.34302C6.27602 7.431 4.59302 9.114 4.59302 11.181V27.681C4.59302 29.7495 6.27602 31.431 8.34302 31.431H27.6555C29.724 31.431 31.4055 29.7495 31.4055 27.681V11.181C31.407 9.114 29.724 7.431 27.657 7.431ZM8.34302 8.931H11.25C11.25 9.0405 11.25 9.1515 11.25 9.261C11.25 9.447 11.25 9.633 11.25 9.819C11.25 10.212 11.595 10.587 12 10.569C12.4065 10.551 12.75 10.239 12.75 9.819C12.75 9.5235 12.75 9.228 12.75 8.931H23.25C23.25 9.0405 23.25 9.1515 23.25 9.261C23.25 9.447 23.25 9.633 23.25 9.819C23.25 10.212 23.595 10.587 24 10.569C24.4065 10.551 24.75 10.239 24.75 9.819C24.75 9.5235 24.75 9.228 24.75 8.931H27.6555C28.896 8.931 29.9055 9.9405 29.9055 11.181V13.557H6.09302V11.181C6.09302 9.9405 7.10252 8.931 8.34302 8.931ZM27.657 29.931H8.34302C7.10252 29.931 6.09302 28.9215 6.09302 27.681V15.057H29.9055V27.681C29.907 28.9215 28.8975 29.931 27.657 29.931Z" />
    </G>
  ),
  'chevron-forward': (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M15 12L21 18L15 24" />
    </G>
  ),
  settings: (
    <G strokeLinecap="round" strokeLinejoin="round" strokeWidth="2">
      <Path d="M16.0683 11.5687C15.145 11.4775 14.2161 11.6739 13.4087 12.131C12.6014 12.5882 11.9551 13.2837 11.5583 14.1223C11.1615 14.961 11.0336 15.9018 11.1922 16.8159C11.3507 17.73 11.788 18.5728 12.444 19.2289C13.1 19.8849 13.9428 20.3221 14.857 20.4807C15.7711 20.6392 16.7119 20.5114 17.5505 20.1146C18.3892 19.7178 19.0847 19.0715 19.5418 18.2641C19.999 17.4568 20.1954 16.5279 20.1042 15.6046C20.0002 14.5696 19.5416 13.6023 18.8061 12.8668C18.0705 12.1312 17.1033 11.6726 16.0683 11.5687ZM26.9034 16.0469C26.9005 16.536 26.8646 17.0244 26.7958 17.5087L29.9747 20.002C30.1131 20.1167 30.2064 20.2768 30.2379 20.4538C30.2694 20.6308 30.2372 20.8133 30.1469 20.9688L27.1397 26.1719C27.0483 26.3259 26.9056 26.4427 26.7366 26.5017C26.5675 26.5608 26.3831 26.5582 26.2158 26.4946L23.0587 25.2234C22.8846 25.154 22.6961 25.129 22.5099 25.1505C22.3238 25.1719 22.1458 25.2393 21.9921 25.3464C21.5103 25.6782 21.004 25.9729 20.4776 26.2281C20.3121 26.3086 20.1689 26.4285 20.0608 26.5774C19.9526 26.7263 19.8828 26.8995 19.8574 27.0817L19.3842 30.449C19.3531 30.6268 19.2612 30.7883 19.1243 30.9059C18.9873 31.0235 18.8138 31.0899 18.6333 31.0938H12.6187C12.4412 31.0907 12.2701 31.0272 12.1334 30.9139C11.9968 30.8005 11.9029 30.644 11.8671 30.4701L11.3946 27.1077C11.3681 26.9235 11.2964 26.7486 11.186 26.5987C11.0756 26.4488 10.9299 26.3285 10.7618 26.2485C10.236 25.9947 9.73141 25.6992 9.25287 25.3647C9.09966 25.2581 8.92233 25.1913 8.73686 25.1703C8.55139 25.1493 8.36362 25.1748 8.19045 25.2445L5.03412 26.515C4.86686 26.5787 4.68248 26.5813 4.51347 26.5224C4.34445 26.4635 4.20165 26.3468 4.11022 26.193L1.10295 20.9898C1.01254 20.8344 0.98023 20.6519 1.01178 20.4749C1.04332 20.2978 1.13668 20.1377 1.27522 20.023L3.96186 17.9137C4.10905 17.7968 4.22473 17.6451 4.2984 17.4722C4.37207 17.2993 4.40141 17.1108 4.38373 16.9237C4.35842 16.6305 4.34295 16.338 4.34295 16.0448C4.34295 15.7516 4.35772 15.4633 4.38373 15.1764C4.39947 16.9904 4.3687 16.8035 4.2942 16.6324C4.21969 16.4613 4.10379 16.3114 3.95694 16.1962L1.2717 14.0869C1.13541 13.9716 1.04402 13.8121 1.01355 13.6362C0.983086 13.4604 1.01548 13.2794 1.10506 13.125L4.11233 5.92188C4.20365 5.76788 4.34641 5.65107 4.51543 5.59203C4.68445 5.53299 4.86889 5.53551 5.03623 5.59914L8.19327 6.87039C8.36736 6.93971 8.55594 6.96475 8.74209 6.94328C8.92825 6.9218 9.10617 6.85448 9.25991 6.74734C9.74172 6.41555 10.248 6.1208 10.7744 5.86562C10.9399 5.78519 11.0831 5.66524 11.1912 5.51637C11.2994 5.3675 11.3692 5.19429 11.3946 5.01203L11.8678 1.64477C11.8989 1.46693 11.9908 1.30541 12.1277 1.18781C12.2647 1.07021 12.4382 1.00382 12.6187 1H18.6333C18.8108 1.00307 18.9819 1.06652 19.1186 1.17988C19.2552 1.29325 19.3491 1.44978 19.3849 1.62367L19.8574 4.98602C19.8839 5.17028 19.9556 5.34514 20.066 5.49503C20.1764 5.64493 20.3221 5.76523 20.4902 5.84523C21.016 6.09903 21.5206 6.39459 21.9991 6.72906C22.1523 6.83567 22.3297 6.90247 22.5151 6.92346C22.7006 6.94445 22.8884 6.91896 23.0615 6.8493L26.2179 5.57875C26.3851 5.51505 26.5695 5.51243 26.7385 5.57134C26.9075 5.63025 27.0503 5.74691 27.1418 5.90078L30.149 11.1039C30.2395 11.2594 30.2718 11.4419 30.2402 11.6189C30.2087 11.7959 30.1153 11.956 29.9768 12.0707L27.2901 14.1801C27.1423 14.2965 27.026 14.4481 26.9517 14.621C26.8774 14.7939 26.8475 14.9827 26.8647 15.1701C26.888 15.4612 26.9034 15.7537 26.9034 16.0469Z" />
    </G>
  ),
  kakao: (
    <G fill="#381F1F">
      <Path
        d="M9.99994 0.349976C15.1983 0.349976 19.4125 3.63487 19.4125 7.68692C19.4125 11.739 15.1983 15.0239 9.99994 15.0239C9.47267 15.0239 8.95579 14.9894 8.45209 14.9245L4.50058 17.5092C4.05112 17.7471 3.89243 17.7207 4.07747 17.139L4.87672 13.8423C2.29504 12.534 0.587585 10.2661 0.587585 7.68692C0.587585 3.63487 4.80163 0.349976 9.99994 0.349976ZM15.2952 7.57433L16.6132 6.29878C16.7811 6.13624 16.7855 5.8685 16.6231 5.70055C16.4606 5.53283 16.1929 5.52832 16.0248 5.69075L14.2963 7.36349V5.98153C14.2963 5.74798 14.107 5.55853 13.8733 5.55853C13.6398 5.55853 13.4503 5.74798 13.4503 5.98153V8.27372C13.4343 8.33915 13.4347 8.40692 13.4503 8.47254V9.7624C13.4503 9.99601 13.6398 10.1854 13.8733 10.1854C14.107 10.1854 14.2963 9.99601 14.2963 9.7624V8.54085L14.6796 8.17L15.9595 9.99233C16.0419 10.1096 16.1731 10.1723 16.3061 10.1723C16.3902 10.1723 16.475 10.1472 16.5489 10.0953C16.7401 9.96114 16.7862 9.69723 16.6519 9.50603L15.2952 7.57433ZM12.6438 9.29976H11.3352V5.99476C11.3352 5.76121 11.1457 5.57176 10.912 5.57176C10.6785 5.57176 10.4892 5.76121 10.4892 5.99476V9.72269C10.4892 9.95639 10.6785 10.1457 10.912 10.1457H12.6438C12.8775 10.1457 13.0669 9.95639 13.0669 9.72269C13.0669 9.48917 12.8775 9.29976 12.6438 9.29976ZM7.3934 8.3214L8.01732 6.79068L8.58861 8.3214H7.3934ZM9.65482 8.75859C9.655 8.75375 9.65625 8.74936 9.65625 8.74452C9.65625 8.63336 9.61251 8.53314 9.5425 8.45766L8.60538 5.94702C8.51717 5.69614 8.29638 5.52963 8.04279 5.52258C7.79347 5.51585 7.56146 5.67178 7.45736 5.92275L5.96836 9.57631C5.88025 9.79261 5.98412 10.0396 6.20048 10.1278C6.41684 10.216 6.66373 10.112 6.75184 9.89561L7.04858 9.16754H8.90433L9.17174 9.88396C9.23529 10.0541 9.39656 10.1592 9.56822 10.1591C9.61735 10.1591 9.66728 10.1505 9.71604 10.1323C9.93495 10.0507 10.0461 9.80695 9.96435 9.58796L9.65482 8.75859ZM6.67741 5.99917C6.67741 5.76562 6.48796 5.57617 6.2544 5.57617H3.34609C3.11242 5.57617 2.92298 5.76562 2.92298 5.99917C2.92298 6.23273 3.11242 6.42217 3.34609 6.42217H4.38596V9.77128C4.38596 10.0049 4.5754 10.1942 4.80896 10.1942C5.04262 10.1942 5.23207 10.0049 5.23207 9.77128V6.42217H6.2544C6.48796 6.42217 6.67741 6.23273 6.67741 5.99917Z"
        fill="#381F1F"
      />
    </G>
  ),
  naver: (
    <G fill="white">
      <Path d="M14.8487 12.5633L8.91733 4H4V20H9.15067V11.4373L15.0827 20H20V4H14.8487V12.5633Z" />
    </G>
  ),
  google: (
    <G>
      <Path
        d="M21.8055 10.0415H21V10H12V14H17.6515C16.827 16.3285 14.6115 18 12 18C8.6865 18 6 15.3135 6 12C6 8.6865 8.6865 6 12 6C13.5295 6 14.921 6.577 15.9805 7.5195L18.809 4.691C17.023 3.0265 14.634 2 12 2C6.4775 2 2 6.4775 2 12C2 17.5225 6.4775 22 12 22C17.5225 22 22 17.5225 22 12C22 11.3295 21.931 10.675 21.8055 10.0415Z"
        fill="#FFC107"
      />
      <Path
        d="M3.15302 7.3455L6.43851 9.755C7.32751 7.554 9.48052 6 12 6C13.5295 6 14.921 6.577 15.9805 7.5195L18.809 4.691C17.023 3.0265 14.634 2 12 2C8.15901 2 4.82801 4.1685 3.15302 7.3455Z"
        fill="#FF3D00"
      />
      <Path
        d="M12 22C14.583 22 16.93 21.0115 18.7045 19.404L15.6095 16.785C14.6055 17.5455 13.3575 18 12 18C9.39897 18 7.19047 16.3415 6.35847 14.027L3.09747 16.5395C4.75247 19.778 8.11347 22 12 22Z"
        fill="#4CAF50"
      />
      <Path
        d="M21.8055 10.0415H21V10H12V14H17.6515C17.2555 15.1185 16.536 16.083 15.608 16.7855L15.6095 16.7845L18.7045 19.4035C18.4855 19.6025 22 17 22 12C22 11.3295 21.931 10.675 21.8055 10.0415Z"
        fill="#1976D2"
      />
    </G>
  ),
  plus: (
    <G strokeLinecap="round" fill="none">
      <Path d="M8.10034 18C8.10034 18 20.1674 18 27.8994 18" />
      <Path d="M18.0002 27.8995C18.0002 27.8995 18.0002 15.8325 18.0002 8.1005" />
    </G>
  ),
  minus: (
    <G strokeLinecap="round" fill="none">
      <Path d="M8.10034 18C8.10034 18 20.1674 18 27.8994 18" />
    </G>
  ),
  up: (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M9.5625 21.9375L17.4375 14.0626L25.3125 21.9375" />
    </G>
  ),
  down: (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M25.3125 14.0626L17.4375 21.9375L9.5625 14.0626" />
    </G>
  ),
  check: (
    <G strokeLinecap="round" strokeLinejoin="round" fill="none">
      <Path d="M1 4.42L6.7 10.5L13.92 1" />
    </G>
  ),
};

export function Icon({
  name,
  size = 36,
  color = '#232323',
  strokeWidth = 1.5,
  className,
  onPress,
  disabled = false,
}: IconProps) {
  const VIEWBOX: Record<IconName, string> = {
    back: '0 0 36 36',
    close: '0 0 36 36',
    search: '0 0 36 36',
    calendar: '0 0 36 36',
    'chevron-forward': '0 0 36 36',
    settings: '0 0 32 33',
    plus: '0 0 36 36',
    minus: '0 0 36 36',
    kakao: '0 0 20 18',
    naver: '0 0 24 24',
    google: '0 0 24 24',
    up: '0 0 36 36',
    down: '0 0 36 36',
    check: '0 0 16 12',
  };

  const STROKED_ICONS = new Set<IconName>([
    'back',
    'close',
    'search',
    'chevron-forward',
    'plus',
    'minus',
    'up',
    'down',
    'check',
    'settings',
  ]);

  const viewBox = VIEWBOX[name] || '0 0 36 36';

  const iconInner = STROKED_ICONS.has(name) ? (
    <G stroke={color} strokeWidth={strokeWidth}>
      {ICONS[name]}
    </G>
  ) : (
    ICONS[name]
  );

  const iconElement = (
    <Svg width={size} height={size} viewBox={viewBox} className={className}>
      {iconInner}
    </Svg>
  );

  if (onPress) {
    return (
      <TouchableOpacity
        onPress={onPress}
        disabled={disabled}
        className={[
          disabled ? 'opacity-50' : 'pressed:opacity-70',
          'items-center justify-center',
        ]
          .filter(Boolean)
          .join(' ')}
      >
        {iconElement}
      </TouchableOpacity>
    );
  }

  return iconElement;
}
